# Indexes 

crete [unique/fulltext/spatial] index IndexName [using BTree/Hash/RTree] on TableName(columnName); 
Индексы улучшают произыодительность запросов от 30%-70%
- Search criteria - BTree, Hash, RTree
- Data Type - Unique, fullText, spatial
- Column - clustered,non-clustered

# Materialized Views
Материализованное представление (Materialized View) – это объект базы данных, который хранит результат выполнения запроса, как физическую таблицу, в отличие от обычного представления (View), которое пересчитывается каждый раз при обращении. Это позволяет значительно ускорить выполнение запросов, особенно тех, которые включают сложные операции, такие как объединения и агрегации, так как данные уже предварительно вычислены и сохранены

# Indexed views
это материализованное представление, то есть, данные, которые определены в представлении, хранятся физически, как в обычной таблице, и имеют собственный уникальный кластеризованный индекс. Это позволяет повысить производительность запросов, особенно тех, которые включают агрегацию данных или объединение больших объемов информации


```sql
create index View_Index on AccountDetails(AccountId);
drop index View_Index on AccountDetails;

create unique index AccountIdIndex on AccountDetails(AccountId); 
```

```sql
create index View_Index on AccountsOfTransactions(AccountId);
```
ERROR 1347 (HY000): 'BesantBank.AccountsOfTransactions' is not BASE TABLE

# Search criteria
## Balanced Tree
```
1.........50 ...67....100
   X    <=50>    v 
          50 ....75...100
              v <=75> x
```
нужно 6 шагов

## Hash
- поиск за один шаг
- работае на больших объемах

Хэш-индексы в SQL работают на основе хеш-функций, которые преобразуют значения ключей в уникальные числовые значения, называемые хэш-кодами. Эти хэш-коды затем используются для определения расположения данных в хэш-таблице, состоящей из бакетов. При поиске, хэш-функция применяется к искомому значению, и система находит соответствующий бакет для извлечения данных. 

## RTree
R-Tree индексы в SQL, особенно полезные для пространственных данных, организуют информацию в иерархическую древовидную структуру, где каждая вершина (узел) представляет собой прямоугольную область, охватывающую несколько объектов или других узлов. Это позволяет эффективно выполнять запросы на поиск объектов в определенной области, например, поиск всех зданий в заданном радиусе от точки

# Clustered Index
В SQL "кластеризованный индекс" (clustered index) определяет физический порядок хранения строк таблицы. Это означает, что данные в таблице физически упорядочены в соответствии с значениями столбца, указанного в кластеризованном индексе. Каждая таблица может иметь только один кластеризованный индекс. 

# Unique Index
В SQL "уникальный индекс" (unique index) гарантирует, что значения в одном или нескольких столбцах таблицы будут уникальными. Это означает, что в этих столбцах не может быть повторяющихся значений, обеспечивая целостность данных. Уникальный индекс может быть создан как при создании таблицы, так и отдельно. 
Создание уникального индекса при создании таблицы:
Для создания уникального индекса при создании таблицы используется ключевое слово UNIQUE в определении столбца или столбцов, которые должны быть уникальными. 

```sql
CREATE TABLE Products (
    ProductID INT PRIMARY KEY,
    ProductName VARCHAR(255) UNIQUE,
    Price DECIMAL(10, 2)
);
```
В данном примере столбец ProductName будет уникальным, и в таблице не может быть двух продуктов с одинаковым названием. 
Создание уникального индекса отдельно от создания таблицы:
Для создания уникального индекса отдельно от создания таблицы используется оператор CREATE UNIQUE INDEX.
Код
```sql
CREATE UNIQUE INDEX IX_ProductName
ON Products (ProductName);
```
Это создаст уникальный индекс IX_ProductName на столбце ProductName в таблице Products

# FullText Index
Полнотекстовый индекс в SQL - это специальный тип индекса, предназначенный для эффективного поиска по текстовым данным в таблицах базы данных. Он позволяет находить документы, соответствующие запросу, учитывая морфологию языка, и сортировать результаты по релевантности. В отличие от оператора LIKE, полнотекстовый поиск обеспечивает более быстрый и продвинутый поиск по текстам

# SpatialIndex
Пространственный индекс в SQL - это специальный тип индекса, предназначенный для оптимизации запросов к пространственным данным, таким как геометрические объекты (точки, линии, полигоны). Он позволяет ускорить поиск и обработку пространственных данных, особенно при работе с географическими информационными системами (ГИС). 

